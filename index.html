<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeIgniter3 Technical Documentation Page</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav id="navbar">
        <header>CodeIgniter3 DOC</header>
        <a href="#Query_Builder_Class" class="nav-link">Query Builder Class</a>
        <a href="#Selecting_Data" class="nav-link">Selecting Data</a>
        <a href="#Inserting_Data" class="nav-link">Inserting Data</a>
        <a href="#Updating_Data" class="nav-link">Updating Data</a>
        <a href="#Deleting_Data" class="nav-link">Deleting Data</a>
        <a href="#Method_Chaining" class="nav-link">Method Chaining</a>
    </nav>



    <main id="main-doc">
        <section class="main-section" id="Query_Builder_Class">
            <header>Query Builder Class</header>
            <p> CodeIgniter gives you access to a Query Builder class. This pattern allows information to be retrieved,
                inserted, and updated in your database with minimal scripting. In some cases only one or two lines of
                code
                are necessary to perform a database action. CodeIgniter does not require that each database table be its
                own
                class file. It instead provides a more simplified interface.</p>

            <p> Beyond simplicity, a major benefit to using the Query Builder features is that it allows you to create
                database independent applications, since the query syntax is generated by each database adapter. It also
                allows for safer queries, since the values are escaped automatically by the system.</p>
            <ul>
                <li>Selecting Data</li>
                <li>Inserting Data</li>
                <li>Updating Data</li>
                <li>Deleting Data</li>
                <li>Method Chaining</li>
            </ul>
        </section>
        <section class="main-section" id="Selecting_Data">
            <header>Selecting Data</header>
            <p> The following functions allow you to build SQL SELECT statements. </p>
            <h5>$this->db->get()</h5>
            <p>Runs the selection query and returns the result. Can be used by itself to retrieve all records from a
                table:</p>

            <!-- code -->
            <div class="code-example">
                <code><pre>$query = $this->db->get('mytable');  // Produces: SELECT * FROM mytable</pre></code>
            </div>


            <p>The second and third parameters enable you to set a limit and offset clause:</p>
            <!-- code -->
            <code>
                <pre>$query = $this->db->get('mytable', 10, 20);

// Executes: SELECT * FROM mytable LIMIT 20, 10
// (in MySQL. Other databases have slightly different syntax)</pre>
            </code>

            <p> You'll notice that the above function is assigned to a variable named $query, which can be used to show
                the results: </p>
            <!-- code -->
            <code>
                <pre>$query = $this->db->get('mytable');

foreach ($query->result() as $row)
{
    echo $row->title;
}</pre>
            </code>


        </section>


        <section class="main-section" id="Inserting_Data">
            <header>Inserting Data</header>
            <h5>$this->db->insert()</h5>

            <p> Generates an insert string based on the data you supply, and runs the query. You can either pass an
                array or
                an object to the function. Here is an example using an array:</p>
            <!-- code -->
            <code>
                <pre>
$data = array(
        'title' => 'My title',
        'name' => 'My Name',
        'date' => 'My date'
);
            
$this->db->insert('mytable', $data);
// Produces: INSERT INTO mytable (title, name, date) VALUES ('My title', 'My name', 'My date')</pre>
            </code>

            <p>The first parameter will contain the table name, the second is an associative array of values.</p>

            <p>Here is an example using an object: </p>
            <!-- code -->
            <code>
                <pre>/*
class Myclass {
    public $title = 'My Title';
    public $content = 'My Content';
    public $date = 'My Date';
}
*/
                    
$object = new Myclass;
$this->db->insert('mytable', $object);
// Produces: INSERT INTO mytable (title, content, date) VALUES ('My Title', 'My Content', 'My Date')</pre>
            </code>
        </section>

        <section class="main-section" id="Updating_Data">
            <header>Updating Data</header>
            <h5> $this->db->replace() </h5>

            <p> This method executes a REPLACE statement, which is basically the SQL standard for (optional) DELETE +
                INSERT, using PRIMARY and UNIQUE keys as the determining factor. In our case, it will save you from the
                need
                to implement complex logics with different combinations of <span>select()</span>, <span>update()</span>,
                <span>delete()</span> and
                <span>insert()</span>
                calls.
            </p>
            <p>Example: </p>
            <!-- code -->
            <code>
                <pre>
$data = array(
        'title' => 'My title',
        'name'  => 'My Name',
        'date'  => 'My date'
);

$this->db->replace('table', $data);

// Executes: REPLACE INTO mytable (title, name, date) VALUES ('My title', 'My name', 'My date')
                </pre>
            </code>

            <p> In the above example, if we assume that the title field is our primary key, then if a row containing 'My
                title' as the title value, that row will be deleted with our new row data replacing it.</p>

            <p> Usage of the set() method is also allowed and all fields are automatically escaped, just like with
                insert().</p>
        </section>

        <section class="main-section" id="Deleting_Data">
            <header> Deleting Data</header>
            <h5>$this->db->delete()</h5>
            <p>Generates a delete SQL string and runs the query. </p>
            <!-- code -->
            <code><pre>$this->db->delete('mytable', array('id' => $id));  // Produces: // DELETE FROM mytable  // WHERE id = $id</pre></code>

            <p> The first parameter is the table name, the second is the where clause. You can also use the where() or
                or_where() functions instead of passing the data to the second parameter of the function:</p>
            <!-- code -->
            <code>
                <pre>
$this->db->where('id', $id);
$this->db->delete('mytable');

// Produces:
// DELETE FROM mytable
// WHERE id = $id
                </pre>
            </code>

            <p>An array of table names can be passed into delete() if you would like to delete data from more than 1
                table.</p>
            <!-- code -->
            <code>
                <pre>
$tables = array('table1', 'table2', 'table3');
$this->db->where('id', '5');
$this->db->delete($tables);</pre>
            </code>

        </section>

        <section class="main-section" id="Method_Chaining">
            <header>Method Chaining</header>
            <p> Method chaining allows you to simplify your syntax by connecting multiple functions. Consider this
                example: </p>

            <code>
                    <pre>
$query = $this->db->select('title')
->where('id', $id)
->limit(10, 20)
->get('mytable');
                    </pre>
                </code>
        </section>
    </main>
</body>

</html>